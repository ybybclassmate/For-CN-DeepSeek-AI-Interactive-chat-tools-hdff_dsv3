# 最新的 DeepSeek AI 交互式聊天工具

## 概述

这是一个基于 DeepSeek API 的命令行交互式 AI 助手工具，支持灵活的参数配置，让您体验定制化的 AI 对话服务。

## 主要功能

- 🗣️ 交互式对话：与 AI 进行实时对话
- ⚙️ 自定义模式：调整模型参数满足不同需求
- 📝 对话记录：自动保存完整对话历史
- 🔄 错误处理：内置 API 调用重试机制
- 🌐 跨平台支持：兼容 Windows 和 Linux 系统

## 使用前提

1. 获取 DeepSeek API 密钥（访问 https://deepseek.com/）
2. 将 API 密钥保存为文本文件（默认路径见下文）
3. 安装 Python 3.8 或更高版本(exe可以跳过此步)

## 快速开始

### 1. 安装依赖
```bash
pip install openai
```

### 2. 准备 API 密钥文件
- 创建 `api.txt` 文件
- 在文件中粘贴您的 DeepSeek API 密钥
- 默认文件位置：
  - Windows: 当前目录下的 `api.txt`
  - Linux: 用户主目录下的 `api.txt` (`~/api.txt`)

### 3. 运行程序
```bash
python deepseek_chat.py
```

## 使用指南

### 基本模式
直接按回车使用默认参数开始对话：
- 模型: `deepseek-chat`
- 温度: 0.7（中等创造性）
- 最大 token 数: 1024
- 非流式输出

### 自定义模式 (输入 `y`)
1. **系统提示词**：设置 AI 的角色和初始指令
2. **模型选择**：
   - `deepseek-chat`: 通用对话模型（默认）
   - `deepseek-reasoner`: 深度推理模型（适合复杂问题）
3. **创造性值 (0-2)**:
   - 0: 保守精确的回答
   - 1: 平衡的回答（默认 0.7）
   - 2: 高度创造性的回答
4. **上下文长度 (1-4096 tokens)**:
   - 控制 AI 记忆上下文的能力（默认 1024）
5. **流式输出**：
   - 启用实时逐字输出效果

### 对话控制
- 输入 `退出`, `exit` 或 `quit` 结束会话
- 对话记录自动保存到 `conversation_log.txt`

## 注意事项

1. **API 限制**：
   - DeepSeek API 可能有调用频率限制
   - 长时间对话可能消耗较多 tokens

2. **错误处理**：
   - API 调用失败会自动重试 3 次
   - 空响应会自动处理并回复默认消息

3. **文件路径**：
   - 支持拖放文件路径到命令行
   - 路径中的引号会被自动移除

## 示例使用场景

1. 快速问答：
   ```bash
   python deepseek_chat.py
   > 你好
   ```

2. 技术咨询（使用深度推理模型）：
   ```bash
   python deepseek_chat.py
   自定义模式? y
   初始提示词: 你是一个资深Python开发专家
   深度思考? y
   创造性: 0.3
   ```

3. 创意写作：
   ```bash
   python deepseek_chat.py
   自定义模式? y
   初始提示词: 你是一位科幻小说作家
   创造性: 1.8
   流式输出? y
   ```

## 技术支持

遇到问题请检查：
- API 密钥是否正确且有效
- 网络连接是否正常
- 是否达到 API 调用限制

如需进一步帮助，请参考脚本内的错误提示信息。